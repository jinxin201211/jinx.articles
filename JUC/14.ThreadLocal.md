# ThreadLocal

线程局部变量，为每个线程提供独立的变量副本，不同线程之间的变量是独立的，互不干扰的。

主要解决了让每个线程绑定自己的值，通过使用get()和set()方法，获取默认值或将其值更改为当前线程所存的副本的值，从而避免了线程安全问题。

## 为什么要使用ThreadLocal

先说明ThreadLocal作用时为每个线程提供一个独立的变量副本，让线程在访问该变量时互不干扰。

仅仅要实现这个作用，线程内部定义的局部变量也可以做到。

那么为什么会出现ThreadLocal类呢？

局部变量只能通过显示传参的方式让参数到达某一个方法。而ThreadLocal可以直接设置为一个静态变量，各个线程共享。这样可以实现隐式传输参数（特别是一些与业务无关但却有用的参数）。

## 为什么ThreadLocalMap的Entry的key是弱引用

强引用不回收，软引用不足时回收，弱引用总是回收，虚引用接收回收通知。
